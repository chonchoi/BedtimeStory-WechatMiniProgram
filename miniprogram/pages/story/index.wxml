<view class="container">
  <!-- 故事展示 -->
  <view class="story-section">
    <view class="story-container">
      <view class="story-header" wx:if="{{story}}">
        <text class="story-timestamp">{{story.timestamp}}</text>
      </view>
      
      <view class="story-content {{isGenerating ? 'generating' : ''}}">
        <text wx:if="{{story && story.content}}" user-select="true">{{story.content}}</text>
        <view wx:if="{{isGenerating}}" class="generating-status">
          <view class="progress-bar">
            <view class="progress-inner" style="width: {{generatingProgress}}%"></view>
          </view>
          <view class="status-text">{{generatingStatusText}}</view>
          <view class="typing-indicator">
            <view class="dot"></view>
            <view class="dot"></view>
            <view class="dot"></view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="button-group">
    <button 
      class="restart-btn" 
      bindtap="restart"
      disabled="{{isGenerating}}"
    >重新开始</button>
  </view>
</view> 